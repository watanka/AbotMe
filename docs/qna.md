
# 프로세스
- 이력서 정보를 기반으로 이력서의 주인에게 추가로 질문할만한 내용들을 보충해서 이력서의 컨텍스트를 보강한다. 이를 통해, 벡터 스토어를 기반으로 답변을 하는 챗봇은 챗봇 유저에게 더 풍부한 이력 정보를 제공할 수 있다.
# 이력서 QnA 시스템 설계

## 기본 정책
- 이력서는 항상 **하나만 관리**된다. 새 이력서 업로드 시 기존 QnA 데이터는 모두 초기화된다.
- 질문 생성은 이력서 업로드 완료 시 **비동기로 동작**한다.
- 각 질문은 이력서 내 특정 부분(label_id)과 연결된다.
- 질문과 답변은 1:1로 페어링되어 저장된다.

## 데이터 구조 예시
```json
{
  "questions": [
    {
      "question_id": "q1",
      "label_id": "L1",
      "question_text": "이력서에서 가장 자신있는 프로젝트는 무엇인가요?",
      "answer": "프로젝트 A입니다." // 답변이 없으면 null 또는 빈 문자열
    },
    ...
  ]
}
```

## API 설계
- **이력서 업로드 시 질문 목록 생성**: 사용자가 새 이력서를 업로드하면, 서버에서 즉시 질문 목록 생성이 트리거된다.
    - (예시 엔드포인트: `POST /resume/` → 업로드 후 내부적으로 `POST /resume/generate-questions` 호출)
    - `generate-questions` 엔드포인트에서는 업로드된 이력서 기반으로 LLM 등으로 질문을 생성하여 `RESUME["questions"]`에 저장한다. 새로운 질문 생성 시 사용할 수 있도록 구성한다. 
- **질문 목록 조회**: `GET /resume/questions`
    - 질문 생성 중이면 "질문 생성 중" 메시지 반환
    - 생성 완료 시 위와 같은 구조로 질문+답변 반환
- **답변 제출**: `POST /resume/questions/{question_id}/answer`
    - payload: `{ "answer_text": "..." }`
    - 해당 질문의 answer 필드가 갱신됨

## 프론트엔드 연동 정책
- 프론트엔드는 `/resume/questions`에서 질문 목록을 받아온다.
- 각 질문에 `answer` 필드가 있으면, QnA 입력 폼의 **placeholder**로 보여준다.
    - 예: `<input placeholder={question.answer || ''} ... />`
- 답변이 없으면 placeholder 없이 빈 입력창.

## 기타
- 보안/인증은 별도 구현되어 있으므로 QnA 로직에서는 신경쓰지 않아도 됨.
- 이력서가 업로드될 때마다 기존 QnA 데이터는 반드시 초기화된다.
- 질문 생성이 비동기이므로, 생성 중 안내 메시지/상태 관리 필요.

